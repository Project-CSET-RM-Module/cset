<style>
    /* derived from a ww2schools example */
    /* Make sure that padding behaves as expected */
    * {box-sizing:border-box}

    .container {
      padding: 50px;
    }
    
    /* Container is for skill bars */
    .containerbar {
      width: 100%; /* full width */
      background-color: #ddd; /* grey background */
    }
    
    .skillstypebar {
      text-align: right; /* text to the right within the bar */
      padding-top: 10px; /* */
      padding-bottom: 10px; /* */
      color: white; /* visible text foreground*/
    }
    
    /* width of achieved level bar*/
    .achievedwidth {width: 20%; background-color: #007bff; border-top-right-radius: 5px; border-bottom-right-radius: 5px;}
    /* var(--finalscorewidthvariable) */
    .achievedcontainer {display: flex; justify-content: center;}
    
    .riskframing {width: var(--riskfwidthvariable); background-color: #007bff; border-top-right-radius: 5px; border-bottom-right-radius: 5px;}
    
    .riskassessment {width: var(--riskawidthvariable); background-color: #007bff; border-top-right-radius: 5px; border-bottom-right-radius: 5px;} 
    
    .riskresponse {width: var(--riskrwidthvariable); background-color: #007bff; border-top-right-radius: 5px; border-bottom-right-radius: 5px;}
    
    .riskmonitoring {
        width: var(--riskmwidthvariable);
        background-color: #007bff;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;}
    
</style>

<div class="container">

    <div style="text-align: center;">
        <h2>Cyber Risk Management Program (CRMP)</h2>
        <h2>Results</h2>
    </div>
    
    <div class="achievedcontainer">
      <div class="card" style="width: 40%;">
        <div style="display: flex; justify-content: center">
          <h3>Achieved Level</h3>
        </div>
        <div class="card-body">
          <div style="display: flex; justify-content: center">
            <h2>{{finalscore}}</h2>
          </div>
          <div class="containerbar">
            <div class="skillstypebar achievedwidth"></div>
          </div>
        </div>
      </div>
      </div>
    
    <div class="container">
    
        <div style="display: inline-block; width: 100%; padding-top: 20px">
            <div><strong>Part 1: Risk Framing</strong></div>
            <div style="text-align: right;"><strong>{{riskfscore}}</strong></div>
        </div>
          <div class="containerbar">
            <div class="skillstypebar riskframing"></div>
          </div>
    
        <div style="display: inline-block; width: 100%; padding-top: 20px">
            <div><strong>Part 2: Risk Assessment</strong></div>
            <div style="text-align: right;"><strong>{{riskascore}}</strong></div>
        </div>
          <div class="containerbar">
            <div class="skillstypebar riskassessment"></div>
          </div>

        <div style="display: inline-block; width: 100%; padding-top: 20px">
            <div><strong>Part 3: Risk Response</strong></div>
            <div style="text-align: right;"><strong>{{riskrscore}}</strong></div>
        </div>
          <div class="containerbar">
            <div class="skillstypebar riskresponse"></div>
          </div>
    
        <div style="display: inline-block; width: 100%; padding-top: 20px">
            <div><strong>Part 4: Risk Monitoring</strong></div>
            <div style="text-align: right;"><strong>{{riskmscore}}</strong></div>
        </div>
          <div class="containerbar">
            <div class="skillstypebar riskmonitoring"></div>
          </div>
    
    </div>

    <!-- <div class="container">
    <div *ngFor="" style="display: inline-block; width: 100%; padding-top: 20px">
      <div><strong>{{"r.title"}}</strong></div>
      <div style="text-align: right;"><strong>{{"r.level"}}</strong></div>
    </div>
    <div class="containerbar">
      <div class="skillstypebar" style="width: 33%;"></div>
      <div class="skillstypebar" style="width: --var(barscoreswidthvar);"></div>
    </div>
    </div> -->

    <table class="cset-table">
      <tr>
        <th>Category</th>
        <th class="text-right">Yes</th>
        <th class="text-right">No</th>
        <th class="text-right">Unanswered</th>
        <!-- <th class="text-right">Percent Complete</th> -->
      </tr>
      <tr *ngFor="let r of countTable">
        <td>{{r.title}}</td>
        <td class="text-right">{{r.y}}</td>
        <td class="text-right">{{r.n}}</td>
        <td class="text-right">{{r.u}}</td>
        <!-- <td class="text-right">{{100}}{{r.percent}}%</td> -->
      </tr>
    </table>

    <!-- <table class="cset-table">
        <tr>
            <th>Category</th>
            <th class="text-right">Yes</th>
            <th class="text-right">No</th>
            <th class="text-right">Unanswered</th>
            <th class="text-right">Percent Complete</th>
        </tr>
        <tr>
            <td>Part 1: Risk Framing</td>
            <td class="text-right">{{49}}</td>
            <td class="text-right">{{3}}</td>
            <td class="text-right">{{0}}</td>
            <td class="text-right">{{100}}%</td>
        </tr>
        <tr>
          <td>Part 2: Risk Assessment</td>
          <td class="text-right">{{48}}</td>
          <td class="text-right">{{5}}</td>
          <td class="text-right">{{3}}</td>
          <td class="text-right">{{96}}%</td>
        </tr>
        <tr>
          <td>Part 3: Risk Response</td>
          <td class="text-right">{{51}}</td>
          <td class="text-right">{{4}}</td>
          <td class="text-right">{{0}}</td>
          <td class="text-right">{{100}}%</td>
        </tr>
        <tr>
          <td>Part 4: Risk Monitoring</td>
          <td class="text-right">{{45}}</td>
          <td class="text-right">{{1}}</td>
          <td class="text-right">{{0}}</td>
          <td class="text-right">{{100}}%</td>
        </tr>
    </table>
    
    </div> -->

<!--
<div class="white-panel d-flex flex-column flex-11a">
    <h3 class="d-flex flex-column flex-00a">{{title}}</h3>
    <p>
        These charts represent the answer distribution overall and across all tiers.
    </p>

    <div *ngIf="!initialized">
        <div class="spinner-container" style="margin-left: auto; margin-right: auto;">
            <div style="max-width: 50px; max-height: 50px;"></div>
        </div>
    </div> 
-->

    <app-nav-back-next *ngIf="showNav" [page]="'crmp-summary'"></app-nav-back-next>

